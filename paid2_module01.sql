-- =====================================================
-- –ú–û–î–£–õ–¨ 1, –£–†–û–ö 1: –©–æ —Ç–∞–∫–µ TPS —ñ —á–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ (–†–û–ó–®–ò–†–ï–ù–ê –í–ï–†–°–Ü–Ø)
-- =====================================================
-- –ö—É—Ä—Å: paid-2 (–Ü–¥–µ–∞–ª—å–Ω–∞ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è Minecraft –°–µ—Ä–≤–µ—Ä–∞)

DO $$
DECLARE
  v_module_id TEXT;
  v_course_module_id TEXT;
  v_lesson_id TEXT;
BEGIN
  v_module_id := gen_random_uuid()::text;
  v_lesson_id := gen_random_uuid()::text;
  
  DELETE FROM course_lessons WHERE module_id IN (
    SELECT id::text FROM course_modules WHERE course_id = 'paid-2' AND order_index = 1
  );
  DELETE FROM course_modules WHERE course_id = 'paid-2' AND order_index = 1;
  
  INSERT INTO course_modules (module_id, course_id, title, description, order_index)
  VALUES (
    v_module_id,
    'paid-2',
    '–†–æ–∑—É–º—ñ–Ω–Ω—è TPS —Ç–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞',
    '–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è TPS, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É, –ø—Ä–æ—Ñ–∞–π–ª—ñ–Ω–≥ —á–µ—Ä–µ–∑ Spark —Ç–∞ –æ—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∏—á–∏–Ω–∏ –ª–∞–≥—ñ–≤.',
    1
  )
  RETURNING id::text INTO v_course_module_id;
  
  INSERT INTO course_lessons (
    course_id, module_id, lesson_id, title, type, content, duration, order_index, video_url, is_free_preview
  ) VALUES (
    'paid-2',
    v_course_module_id,
    v_lesson_id,
    '–©–æ —Ç–∞–∫–µ TPS: –ø–æ–≤–Ω–∏–π —Ä–æ–∑–±—ñ—Ä',
    'video',
    '# –©–æ —Ç–∞–∫–µ TPS —ñ —á–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ

## üéØ –í—Å—Ç—É–ø

TPS (Ticks Per Second) - —Å–µ—Ä—Ü–µ–±–∏—Ç—Ç—è –≤–∞—à–æ–≥–æ Minecraft —Å–µ—Ä–≤–µ—Ä–∞. –ë–µ–∑ —Ä–æ–∑—É–º—ñ–Ω–Ω—è TPS –≤–∏ –æ–ø—Ç–∏–º—ñ–∑—É—î—Ç–µ –Ω–∞–æ—Å–ª—ñ–ø.

## üìä –©–æ —Ç–∞–∫–µ TPS?

**TPS** - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —ñ–≥—Ä–æ–≤–∏—Ö —Ü–∏–∫–ª—ñ–≤ —â–æ —Å–µ—Ä–≤–µ—Ä –≤–∏–∫–æ–Ω—É—î –∑–∞ —Å–µ–∫—É–Ω–¥—É.

### –®–∫–∞–ª–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ:
- ‚úÖ **20.0 TPS** - —ñ–¥–µ–∞–ª, —Ü—ñ–ª—å
- ‚ö†Ô∏è **19-18 TPS** - –ø–æ–º—ñ—Ç–Ω—ñ –ª–∞–≥–∏
- ‚ùå **<18 TPS** - –∫—Ä–∏—Ç–∏—á–Ω–æ
- üö® **<15 TPS** - –Ω–µ–º–æ–∂–ª–∏–≤–æ –≥—Ä–∞—Ç–∏
- üíÄ **<10 TPS** - —Å–µ—Ä–≤–µ—Ä –ø–æ–º–∏—Ä–∞—î

## üîç –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞: 1 —Ç—ñ–∫ = 50ms

```
1000ms √∑ 20 —Ç—ñ–∫—ñ–≤ = 50ms –Ω–∞ —Ç—ñ–∫
–Ø–∫—â–æ —Ç—ñ–∫ >50ms ‚Üí TPS –ø–∞–¥–∞—î!

–ü—Ä–∏–∫–ª–∞–¥:
–¢—ñ–∫ 60ms = 1000√∑60 = 16.67 TPS
–í—Ç—Ä–∞—Ç–∞ 3.33 —Ç—ñ–∫—ñ–≤ = 17% –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ!
```

## üéÆ –©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∫–æ–∂–µ–Ω —Ç—ñ–∫

### 1. Network (~5-10ms)
- –ü–∞–∫–µ—Ç–∏ –≤—ñ–¥ –≥—Ä–∞–≤—Ü—ñ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —Å—Ç–∞–Ω—É

### 2. Entities (~10-20ms)
- AI –º–æ–±—ñ–≤
- –§—ñ–∑–∏–∫–∞ —Ä—É—Ö—É
- –ö–æ–ª—ñ–∑—ñ—ó

### 3. Tile Entities (~2-5ms)
- –ü–µ—á—ñ, —Ö–æ–ø–µ—Ä–∏
- –°—É–Ω–¥—É–∫–∏

### 4. Chunks (~5-10ms)
- –†—ñ—Å—Ç —Ä–æ—Å–ª–∏–Ω
- –í–æ–¥–∞/–ª–∞–≤–∞

### 5. Plugins (~3-7ms)
- –ü–æ–¥—ñ—ó
- –¢–∞–π–º–µ—Ä–∏

### 6. Redstone (~2-8ms)
- –°—Ö–µ–º–∏

### 7. Auto-save
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö

**–°—É–º–∞:** 55ms –≤–∂–µ –ø–µ—Ä–µ–≤–∏—â—É—î –ª—ñ–º—ñ—Ç!

## üìà –í–ø–ª–∏–≤ –Ω–∞ –≥–µ–π–º

### 20 TPS:
- –ü–ª–∞–≤–Ω–∏–π —Ä—É—Ö
- –¢–æ—á–Ω–∏–π PvP
- –†–µ–¥—Å—Ç–æ—É–Ω –ø—Ä–∞—Ü—é—î

### 15 TPS:
- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏
- –ë–ª–æ–∫–∏ –≤—ñ–¥–Ω–æ–≤–ª—é—é—Ç—å—Å—è
- –†–µ–¥—Å—Ç–æ—É–Ω –≥–ª—é—á–∏—Ç—å

### 10 TPS:
- –ù–µ–º–æ–∂–ª–∏–≤–æ –≥—Ä–∞—Ç–∏
- –Ü–Ω–≤–µ–Ω—Ç–∞—Ä –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è

## üõ†Ô∏è –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ TPS

```bash
/tps
/spark tps
/spark healthreport
```

## üí° –ö–ª—é—á–æ–≤–µ

1. **Minecraft –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–∏–π** - –≤—Å–µ –≤ –æ–¥–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ
2. **Budget 50ms** - –Ω–∞ –í–°–ï
3. **–õ–∞–≥–∏ –Ω–∞–∫–æ–ø–∏—á—É—é—Ç—å—Å—è** - –∫–æ–∂–Ω–∞ ms –≤–∞–∂–ª–∏–≤–∞

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞

–í–∏–º—ñ—Ä—è–π—Ç–µ TPS:
- 0 –≥—Ä–∞–≤—Ü—ñ–≤: ___
- 10 –≥—Ä–∞–≤—Ü—ñ–≤: ___
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–≤—ñ—Ç—É: ___
- PvP: ___

## üîë –í–∏—Å–Ω–æ–≤–æ–∫

> TPS = 20 - —Ü–µ –í–ò–ú–û–ì–ê, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è!',
    1800,
    1,
    'https://youtube.com/watch?v=example1',
    true
  );

  RAISE NOTICE 'Lesson 1 created!';
END $$;

SELECT m.title, l.title, l.type
FROM course_modules m
JOIN course_lessons l ON l.module_id = m.id::text
WHERE m.course_id = 'paid-2' AND m.order_index = 1;
