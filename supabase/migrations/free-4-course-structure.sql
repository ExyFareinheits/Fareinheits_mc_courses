-- =====================================================
-- FREE-4: –ï–∫–æ–Ω–æ–º—ñ–∫–∞ —Ç–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—è
-- =====================================================
-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: 2 –º–æ–¥—É–ª—ñ, 6 —É—Ä–æ–∫—ñ–≤, 2 –≥–æ–¥–∏–Ω–∏ 30 —Ö–≤–∏–ª–∏–Ω

-- –û—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –¥–∞–Ω–∏—Ö
DELETE FROM course_lessons WHERE course_id = 'free-4';
DELETE FROM course_modules WHERE course_id = 'free-4';

-- =====================================================
-- –ú–û–î–£–õ–¨ 1: –ï–∫–æ–Ω–æ–º—ñ–∫–∞ - Vault —Ç–∞ EssentialsX (3 —É—Ä–æ–∫–∏, 1 –≥–æ–¥–∏–Ω–∞ 15 —Ö–≤)
-- =====================================================

DO $$
DECLARE
  v_module_id TEXT;
BEGIN
  v_module_id := gen_random_uuid()::text;
  
  INSERT INTO course_modules (
    id, course_id, title, description, order_index
  ) VALUES (
    v_module_id,
    'free-4',
    '–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫–æ–Ω–æ–º—ñ–∫–∏: –≥—Ä–æ—à—ñ —Ç–∞ –º–∞–≥–∞–∑–∏–Ω–∏',
    '–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è EssentialsX Economy, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞–≥–∞–∑–∏–Ω—ñ–≤ —á–µ—Ä–µ–∑ ChestShop, Jobs Reborn –¥–ª—è –∑–∞—Ä–æ–±—ñ—Ç–∫—É.',
    1
  );

  -- –£—Ä–æ–∫ 1.1
  INSERT INTO course_lessons (
    course_id, module_id, lesson_id, title, type, content, duration, order_index, is_free_preview
  ) VALUES (
    'free-4', v_module_id, gen_random_uuid()::text,
    'EssentialsX Economy: –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–∞–ª—é—Ç–∏',
    'text',
    '# –ï–∫–æ–Ω–æ–º—ñ–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

## üéØ –©–æ —Ç–∞–∫–µ —Å–µ—Ä–≤–µ—Ä–Ω–∞ –µ–∫–æ–Ω–æ–º—ñ–∫–∞?

**–ï–∫–æ–Ω–æ–º—ñ–∫–∞** - —Å–∏—Å—Ç–µ–º–∞ –≥—Ä–æ—à–µ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ:
- –ì—Ä–∞–≤—Ü—ñ –∑–∞—Ä–æ–±–ª—è—é—Ç—å –≥—Ä–æ—à—ñ
- –í–∏—Ç—Ä–∞—á–∞—é—Ç—å —É –º–∞–≥–∞–∑–∏–Ω–∞—Ö
- –¢–æ—Ä–≥—É—é—Ç—å –º—ñ–∂ —Å–æ–±–æ—é
- –ö—É–ø—É—é—Ç—å –¥–æ–Ω–∞—Ç-–ø—Ä–∏–≤—ñ–ª–µ—ó

## EssentialsX Economy

**–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∞ –µ–∫–æ–Ω–æ–º—ñ–∫–∞** —á–µ—Ä–µ–∑ EssentialsX!

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# –í–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —è–∫—â–æ —î EssentialsX
plugins/EssentialsX-2.20.1.jar

# Vault —Ç–µ–∂ –ø–æ—Ç—Ä—ñ–±–µ–Ω!
plugins/Vault-1.7.3.jar
```

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

```yaml
# plugins/EssentialsX/config.yml

# –ù–∞–∑–≤–∞ –≤–∞–ª—é—Ç–∏
currency-symbol: "$"

# –°—Ç–∞—Ä—Ç–æ–≤—ñ –≥—Ä–æ—à—ñ
starting-balance: 1000

# –ú–∞–∫—Å–∏–º—É–º –≥—Ä–æ—à–µ–π
max-money: 10000000

# –ü–ª–∞—Ç–∞ –∑–∞ —Å–º–µ—Ä—Ç—å
death-cost: 100
```

## –ë–∞–∑–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –±–∞–ª–∞–Ω—Å
/balance
/bal

# –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≥—Ä–æ—à—ñ
/pay PlayerName 100

# –ê–¥–º—ñ–Ω –∫–æ–º–∞–Ω–¥–∏
/eco give PlayerName 1000
/eco take PlayerName 500
/eco set PlayerName 10000
/eco reset PlayerName
```

## –¢–æ–ø –±–∞–≥–∞—Ç—ñ—ó–≤

```yaml
# config.yml
baltop-balance-format: "$%balance%"
```

```bash
# –£ –≥—Ä—ñ
/baltop
# –ü–æ–∫–∞–∑—É—î —Ç–æ–ø-10 –Ω–∞–π–±–∞–≥–∞—Ç—à–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
```

[–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, –ø—Ä–∏–∫–ª–∞–¥–∏ –µ–∫–æ–Ω–æ–º—ñ–∫–∏...]',
    1500,
    1,
    true
  );

  -- –£—Ä–æ–∫ 1.2
  INSERT INTO course_lessons (
    course_id, module_id, lesson_id, title, type, content, duration, order_index, is_free_preview
  ) VALUES (
    'free-4', v_module_id, gen_random_uuid()::text,
    'ChestShop: –≥—Ä–∞–≤–µ—Ü—å–∫—ñ –º–∞–≥–∞–∑–∏–Ω–∏',
    'text',
    '# ChestShop: –º–∞–≥–∞–∑–∏–Ω–∏ –≥—Ä–∞–≤—Ü—ñ–≤

[–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è ChestShop, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞–≥–∞–∑–∏–Ω—ñ–≤, —Ç–∞–±–ª–∏—á–∫–∏, —Ü—ñ–Ω–∏...]',
    1200,
    2,
    true
  );

  -- –£—Ä–æ–∫ 1.3
  INSERT INTO course_lessons (
    course_id, module_id, lesson_id, title, type, content, duration, order_index, is_free_preview
  ) VALUES (
    'free-4', v_module_id, gen_random_uuid()::text,
    'Jobs Reborn: –ø—Ä–æ—Ñ–µ—Å—ñ—ó —Ç–∞ –∑–∞—Ä–æ–±—ñ—Ç–æ–∫',
    'text',
    '# Jobs Reborn: –∑–∞—Ä–æ–±—ñ—Ç–æ–∫ —á–µ—Ä–µ–∑ —Ä–æ–±–æ—Ç–∏

[–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ–µ—Å—ñ–π, –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –∑–∞—Ä–æ–±—ñ—Ç–∫—É, –ø—Ä–∏–∫–ª–∞–¥–∏...]',
    1500,
    3,
    false
  );

END $$;

-- =====================================================
-- –ú–û–î–£–õ–¨ 2: –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—è (3 —É—Ä–æ–∫–∏, 1 –≥–æ–¥–∏–Ω–∞ 15 —Ö–≤)
-- =====================================================

DO $$
DECLARE
  v_module_id TEXT;
BEGIN
  v_module_id := gen_random_uuid()::text;
  
  INSERT INTO course_modules (
    id, course_id, title, description, order_index
  ) VALUES (
    v_module_id,
    'free-4',
    '–õ–µ–≥–∞–ª—å–Ω–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—è: Mojang EULA',
    '–©–æ –º–æ–∂–Ω–∞ –ø—Ä–æ–¥–∞–≤–∞—Ç–∏ –∑–≥—ñ–¥–Ω–æ Mojang EULA, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Tebex, —Ä–∞–Ω–≥–∏ —Ç–∞ –ø—Ä–∏–≤—ñ–ª–µ—ó.',
    2
  );

  -- –£—Ä–æ–∫ 2.1
  INSERT INTO course_lessons (
    course_id, module_id, lesson_id, title, type, content, duration, order_index, is_free_preview
  ) VALUES (
    'free-4', v_module_id, gen_random_uuid()::text,
    'Mojang EULA: —â–æ –º–æ–∂–Ω–∞ –ø—Ä–æ–¥–∞–≤–∞—Ç–∏?',
    'text',
    '# Mojang EULA: –ø—Ä–∞–≤–∏–ª–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—ó

## üéØ –©–æ —Ç–∞–∫–µ EULA?

**EULA** (End User License Agreement) - –ª—ñ—Ü–µ–Ω–∑—ñ–π–Ω–∞ —É–≥–æ–¥–∞ Mojang.

**–í–∞–∂–ª–∏–≤–æ:** –ü–æ—Ä—É—à–µ–Ω–Ω—è EULA = –±–∞–Ω —Å–µ—Ä–≤–µ—Ä–∞!

## ‚úÖ –©–æ –ú–û–ñ–ù–ê –ø—Ä–æ–¥–∞–≤–∞—Ç–∏

### 1. –ö–æ—Å–º–µ—Ç–∏–∫–∞
```
‚úÖ –ü—Ä–µ—Ñ—ñ–∫—Å–∏ —Ç–∞ —Å—É—Ñ—ñ–∫—Å–∏ –≤ —á–∞—Ç—ñ
‚úÖ –ö–æ–ª—å–æ—Ä–æ–≤—ñ –Ω—ñ–∫–Ω–µ–π–º–∏
‚úÖ –ü–∞—Ä—Ç–∏–∫–ª–∏ (–µ—Ñ–µ–∫—Ç–∏)
‚úÖ –ü–µ—Ç (–∫–æ—Å–º–µ—Ç–∏—á–Ω—ñ —Ç–≤–∞—Ä–∏–Ω–∫–∏)
‚úÖ Emotes (–µ–º–æ—Ü—ñ—ó)
‚úÖ Hat (—à–∞–ø–∫–∏ –Ω–∞ –≥–æ–ª–æ–≤—É)
```

### 2. Convenience (–∑—Ä—É—á–Ω—ñ—Å—Ç—å)
```
‚úÖ /back –ø—ñ—Å–ª—è —Å–º–µ—Ä—Ç—ñ
‚úÖ –ë—ñ–ª—å—à–µ /home —Ç–æ—á–æ–∫ (3‚Üí10)
‚úÖ /workbench (–∫—Ä–∞—Ñ—Ç –±–µ–∑ —Å—Ç–æ–ª—É)
‚úÖ /enderchest (–¥–æ—Å—Ç—É–ø –∑–¥–∞–ª–µ–∫—É)
‚úÖ –ë—ñ–ª—å—à–µ claim –±–ª–æ–∫—ñ–≤
```

### 3. –†–µ–∫–ª–∞–º–Ω–µ
```
‚úÖ –ü—Ä–∏–±—Ä–∞—Ç–∏ —Ä–µ–∫–ª–∞–º—É
‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
‚úÖ Broadcast —Å–≤–æ—ó—Ö –æ–≥–æ–ª–æ—à–µ–Ω—å
```

## ‚ùå –©–æ –ó–ê–ë–û–†–û–ù–ï–ù–û –ø—Ä–æ–¥–∞–≤–∞—Ç–∏

### 1. Gameplay –ø–µ—Ä–µ–≤–∞–≥–∏
```
‚ùå –ê–ª–º–∞–∑–Ω–∞ –±—Ä–æ–Ω—è
‚ùå –ó–∞—á–∞—Ä–æ–≤–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
‚ùå –ë—ñ–ª—å—à–µ –∑–¥–æ—Ä–æ–≤\'—è (HP)
‚ùå –®–≤–∏–¥—à–∏–π —Ä—É—Ö
‚ùå –ë—ñ–ª—å—à–µ damage
‚ùå Fly –≤ survival
‚ùå God mode
```

### 2. Pay-to-win
```
‚ùå –î–æ—Å—Ç—É–ø –¥–æ –∫–æ–º–∞–Ω–¥ —è–∫—ñ –¥–∞—é—Ç—å –ø–µ—Ä–µ–≤–∞–≥—É
‚ùå –†–µ–≥—ñ–æ–Ω–∏ –±—ñ–ª—å—à—ñ –Ω—ñ–∂ —É –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö
‚ùå –ö—Ä–µ–π—Ç–æ–≤—ñ –∫–ª—é—á—ñ –∑ —Å–∏–ª—å–Ω–∏–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
```

## –°—ñ—Ä—ñ –∑–æ–Ω–∏

```
‚ö†Ô∏è /fly –≤ lobby (–û–ö)
‚ö†Ô∏è /fly –≤ survival (–ù–ï –û–ö)

‚ö†Ô∏è Claim 10k –±–ª–æ–∫—ñ–≤ (–û–ö —è–∫—â–æ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ —Ç–µ–∂ –º–æ–∂—É—Ç—å –∑–∞—Ä–æ–±–∏—Ç–∏)
‚ö†Ô∏è Claim 10k –±–ª–æ–∫—ñ–≤ (–ù–ï –û–ö —è–∫—â–æ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ –º–∞–∫—Å–∏–º—É–º 1k)

‚ö†Ô∏è –ö—Ä–µ–π—Ç–∏ –∑ –∫–æ—Å–º–µ—Ç–∏–∫–æ—é (–û–ö)
‚ö†Ô∏è –ö—Ä–µ–π—Ç–∏ –∑ –∞–ª–º–∞–∑–∞–º–∏ (–ù–ï –û–ö)
```

## –ü—Ä–∏–∫–ª–∞–¥–∏ –ª–µ–≥–∞–ª—å–Ω–∏—Ö —Ä–∞–Ω–≥—ñ–≤

### –†–∞–Ω–≥ VIP ($5)
```
‚úÖ –ü—Ä–µ—Ñ—ñ–∫—Å [VIP] –∑–æ–ª–æ—Ç–∏–π
‚úÖ Particle trail (—Å–ª—ñ–¥ –∑–∞ –≥—Ä–∞–≤—Ü–µ–º)
‚úÖ 5 /home —Ç–æ—á–æ–∫ (–∑–∞–º—ñ—Å—Ç—å 3)
‚úÖ /hat (–±—É–¥—å-—è–∫–∏–π –±–ª–æ–∫ –Ω–∞ –≥–æ–ª–æ–≤—É)
‚úÖ –î–æ—Å—Ç—É–ø –¥–æ /workbench
```

### –†–∞–Ω–≥ MVP ($10)
```
‚úÖ –í—Å–µ –∑ VIP +
‚úÖ –ü—Ä–µ—Ñ—ñ–∫—Å [MVP] —Ä–æ–∂–µ–≤–∏–π
‚úÖ Pet (–∫–æ—Å–º–µ—Ç–∏—á–Ω–∞ —Ç–≤–∞—Ä–∏–Ω–∫–∞)
‚úÖ 10 /home —Ç–æ—á–æ–∫
‚úÖ /back –ø—ñ—Å–ª—è —Å–º–µ—Ä—Ç—ñ (1 —Ä–∞–∑/–≥–æ–¥–∏–Ω—É)
‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤ —á–µ—Ä–∑—ñ
```

[–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ EULA, –ø—Ä–∏–∫–ª–∞–¥–∏, –ø–æ—Å–∏–ª–∞–Ω–Ω—è...]',
    1500,
    1,
    false
  );

  -- –£—Ä–æ–∫ 2.2
  INSERT INTO course_lessons (
    course_id, module_id, lesson_id, title, type, content, duration, order_index, is_free_preview
  ) VALUES (
    'free-4', v_module_id, gen_random_uuid()::text,
    'Tebex (BuyCraft): —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –º–∞–≥–∞–∑–∏–Ω—É',
    'text',
    '# Tebex: –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –¥–æ–Ω–∞—Ç –º–∞–≥–∞–∑–∏–Ω

[–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è Tebex, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞–∫–µ—Ç—ñ–≤, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º...]',
    1200,
    2,
    false
  );

  -- –£—Ä–æ–∫ 2.3
  INSERT INTO course_lessons (
    course_id, module_id, lesson_id, title, type, content, duration, order_index, is_free_preview
  ) VALUES (
    'free-4', v_module_id, gen_random_uuid()::text,
    '–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–∞–Ω–≥—ñ–≤ —á–µ—Ä–µ–∑ LuckPerms',
    'text',
    '# –†–∞–Ω–≥–∏ –¥–ª—è –¥–æ–Ω–∞—Ç–µ—Ä—ñ–≤

[–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø VIP/MVP/ELITE –≤ LuckPerms, –ø—Ä–∞–≤–∞, –ø—Ä–µ—Ñ—ñ–∫—Å–∏...]',
    1500,
    3,
    false
  );

END $$;

-- –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è
SELECT 
  cm.order_index,
  cm.title,
  COUNT(cl.lesson_id) as lessons_count
FROM course_modules cm
LEFT JOIN course_lessons cl ON cm.id::text = cl.module_id
WHERE cm.course_id = 'free-4'
GROUP BY cm.id, cm.order_index, cm.title
ORDER BY cm.order_index;
